<div class="header-left">
	<img class="logo" src="/assets/img/logo.svg" alt="logo" />

	<!--    board control buttons-->
	<ng-template [ngIf]="isLogged$ | async">
		<div class="board-controls-header">
			<button
				routerLink="boards"
				pButton
				class="p-button-text p-button-sm"
				type="button"
				label="{{ 'HEADER.BUTTONS.BOARDS' | translate }}"></button>
			<button
				(click)="showCreateBoardModal()"
				pButton
				class="p-button-secondary p-button-text p-button-sm"
				type="button"
				label="{{ 'HEADER.BUTTONS.CREATE' | translate }}"></button>
		</div>
	</ng-template>
</div>

<div class="header-right">
	<!--    login buttons-->
	<ng-template #loginButtons>
		<button
			routerLink="sign-up"
			pButton
			class="p-button-secondary p-button-text p-button-sm"
			type="button"
			label="{{ 'HEADER.BUTTONS.SIGN-UP' | translate }}"></button>
		<button
			routerLink="sign-in"
			pButton
			class="p-button-text p-button-sm"
			type="button"
			label="{{ 'HEADER.BUTTONS.LOGIN' | translate }}"></button>
	</ng-template>

	<!--    user controls -->
	<ng-template [ngIf]="isLogged$ | async" [ngIfElse]="loginButtons">
		<div routerLink="user-settings" class="user-controls-header">
			<button
				routerLink="user-settings"
				pButton
				icon="pi pi-user"
				class="p-button-rounded p-button-text"
				type="button"></button>
			<button
				(click)="logout()"
				pButton
				class="p-button-secondary p-button-text p-button-sm"
				type="button"
				label="{{ 'HEADER.BUTTONS.LOGOUT' | translate }}"></button>
		</div>
	</ng-template>

	<!--      side bar button-->
	<button
		pButton
		icon="pi pi-bars"
		class="p-button-rounded p-button-text"
		type="button"
		(click)="sideBarIsOpen = true"></button>

	<!--      side bar-->
	<p-sidebar
		class="sidebar"
		[(visible)]="sideBarIsOpen"
		[transitionOptions]="'200ms'"
		styleClass="p-sidebar-sm"
		position="right">
		<div class="sidebar-body">
			<!--    lang select-->
			<p-selectButton
				[options]="langSelect"
				[(ngModel)]="selectedLang"
				(onOptionClick)="changeLanguage(selectedLang)"
				optionLabel="label"
				optionValue="lang"></p-selectButton>

			<!--    board control buttons-->
			<ng-template [ngIf]="isLogged$ | async">
				<div class="board-controls-header">
					<button
						routerLink="boards"
						pButton
						class="p-button-text p-button-sm"
						type="button"
						label="{{ 'HEADER.BUTTONS.BOARDS' | translate }}"></button>
					<button
						(click)="showCreateBoardModal()"
						pButton
						class="p-button-secondary p-button-text p-button-sm"
						type="button"
						label="{{ 'HEADER.BUTTONS.CREATE' | translate }}"></button>
				</div>
			</ng-template>
		</div>

		<!--    user controls -->
		<ng-template [ngIf]="true">
			<div class="user-controls-sidebar">
				<button
					class="p-button-rounded user-settings-btn p-button-text"
					pButton
					icon="pi pi-user"
					label="User settings"
					type="button"></button>
				<button pButton class="p-button-secondary p-button-text p-button-sm" type="button" label="Logout"></button>
			</div>
		</ng-template>
	</p-sidebar>

	<!--Create new board modal-->
	<p-dialog header="Create new board" [(visible)]="createBoardModalIsOpen">
		<form [formGroup]="createBoardForm" (submit)="createBoardSubmit()">
			<span class="p-float-label">
				<input class="ng-pristine" id="board-title" formControlName="boardTitle" type="text" pInputText />
				<label for="board-title">Board title</label>
			</span>
			<small *ngIf="createBoardForm.controls['boardTitle'].hasError('required')" class="p-error block"
				>Please enter board title</small
			>
			<small *ngIf="createBoardForm.controls['boardTitle'].hasError('minlength')" class="p-error block"
				>Minimum length is 3 characters</small
			>
			<small *ngIf="createBoardForm.controls['boardTitle'].hasError('maxlength')" class="p-error block"
				>Maximum length is 30 characters</small
			>
			<button pButton type="submit" label="Create"></button>
		</form>
	</p-dialog>
</div>
